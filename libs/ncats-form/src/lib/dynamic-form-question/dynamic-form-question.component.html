<div [formGroup]="form">
  <label [attr.for]="question.key">{{question.label}}</label>

  <div [ngSwitch]="question.controlType">
    <div *ngSwitchCase="'textbox'">
      <mat-form-field>
        <input matInput [formControlName]="question.key"
               [id]="question.key" [type]="question['type']">
      </mat-form-field>
    </div>

    <div *ngSwitchCase="'dropdown'">
      <mat-form-field>
        <mat-select [id]="question.key" [formControlName] = "question.key">
          <mat-option *ngFor="let opt of question['options']" [value]="opt.key">{{opt.value}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>


  <div class="errorMessage" *ngIf="!isValid && isTouched">{{question.label}} is required</div>
</div>
